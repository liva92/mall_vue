(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b0f97954"],{"04f3":function(t,e,n){},"3a94":function(t,e,n){"use strict";var a=n("e59d"),r=n.n(a);r.a},"56ad":function(t,e,n){"use strict";var a=n("886e"),r=n.n(a);r.a},"85dd":function(t,e,n){},"886e":function(t,e,n){},"9bd0":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tab-control"},t._l(t.titles,function(e,a){return n("div",{key:e,staticClass:"tab-control-item",class:{active:t.currentIndex===a},on:{click:function(e){t.itemClick(a)}}},[n("span",[t._v(t._s(e))])])}))},r=[],c={name:"TabControl",props:{titles:{type:Array,default:function(){return[]}}},data:function(){return{currentIndex:0}},methods:{itemClick:function(t){this.currentIndex=t,this.$emit("itemClick",t)}}},i=c,o=(n("e7cc"),n("2877")),s=Object(o["a"])(i,a,r,!1,null,"788c5158",null);s.options.__file="TabControl.vue";e["a"]=s.exports},b25e:function(t,e,n){},bb51:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"category"}},[n("nav-bar",{staticClass:"nav-bar"},[n("div",{attrs:{slot:"center"},slot:"center"},[t._v("商品分类")])]),n("div",{staticClass:"content"},[n("tab-menu",{attrs:{categories:t.categories},on:{selectItem:t.selectItem}}),n("scroll",{attrs:{id:"tab-content",data:[t.categoryData]}},[n("div",[n("tab-content-category",{attrs:{subcategories:t.showSubcategory}}),n("tab-control",{attrs:{titles:["综合","新品","销量"]},on:{itemClick:t.tabClick}}),n("tab-content-detail",{attrs:{"category-detail":t.showCategoryDetail}})],1)])],1)],1)},r=[],c=n("c93e"),i=n("a7ac"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("scroll",{attrs:{id:"tab-menu"}},[n("div",{staticClass:"menu-list"},t._l(t.categories,function(e,a){return n("div",{key:a,staticClass:"menu-list-item",class:{active:a===t.currentIndex},on:{click:function(e){t.itemClick(a)}}},[t._v("\n      "+t._s(e.title)+"\n    ")])}))])},s=[],u=n("5d17"),l={name:"TabMenu",components:{Scroll:u["a"]},props:{categories:Array},data:function(){return{currentIndex:0}},methods:{itemClick:function(t){this.currentIndex=t,this.$emit("selectItem",t)}}},f=l,b=(n("56ad"),n("2877")),g=Object(b["a"])(f,o,s,!1,null,"bee9cdd4",null);g.options.__file="TabMenu.vue";var d=g.exports,y=n("9bd0"),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.subcategories.list?n("grid-view",{attrs:{cols:3,lineSpace:15,"v-margin":20}},t._l(t.subcategories.list,function(e,a){return n("div",{key:a,staticClass:"item"},[n("a",{attrs:{href:e.link}},[n("img",{staticClass:"item-img",attrs:{src:e.image,alt:""}}),n("div",{staticClass:"item-text"},[t._v(t._s(e.title))])])])})):t._e()],1)},v=[],p=n("15ae"),h={name:"TabContentCategory",components:{GridView:p["a"]},props:{subcategories:{type:Object,default:function(){return[]}}}},_=h,C=(n("fa03"),Object(b["a"])(_,m,v,!1,null,"60f3b5aa",null));C.options.__file="TabContentCategory.vue";var k=C.exports,D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("grid-view",t._l(t.categoryDetail,function(t,e){return n("goods-list-item",{key:e,attrs:{goods:t}})}))},w=[],x=n("dfbc"),T={name:"TabContentDetail",components:{GridView:p["a"],GoodsListItem:x["a"]},props:{categoryDetail:{type:Array,default:function(){return[]}}}},I=T,O=(n("f216"),Object(b["a"])(I,D,w,!1,null,"3de1c290",null));O.options.__file="TabContentDetail.vue";var j=O.exports,S=n("f350");function $(){return Object(S["a"])({url:"/category"})}function E(t){return Object(S["a"])({url:"/subcategory",params:{maitKey:t}})}function P(t,e){return Object(S["a"])({url:"/subcategory/detail",params:{miniWallkey:t,type:e}})}var A=n("b95e"),G=n("eecb"),M={name:"Category",components:{NavBar:i["a"],TabMenu:d,TabControl:y["a"],Scroll:u["a"],TabContentCategory:k,TabContentDetail:j},mixins:[G["b"]],data:function(){return{categories:[],categoryData:{},currentIndex:-1}},created:function(){this._getCategory()},computed:{showSubcategory:function(){return-1===this.currentIndex?{}:this.categoryData[this.currentIndex].subcategories},showCategoryDetail:function(){return-1===this.currentIndex?[]:this.categoryData[this.currentIndex].categoryDetail[this.currentType]}},methods:{_getCategory:function(){var t=this;$().then(function(e){t.categories=e.data.category.list;for(var n=0;n<t.categories.length;n++)t.categoryData[n]={subcategories:{},categoryDetail:{pop:[],new:[],sell:[]}};t._getSubcategories(0)})},_getSubcategories:function(t){var e=this;this.currentIndex=t;var n=this.categories[t].maitKey;E(n).then(function(n){e.categoryData[t].subcategories=n.data,e.categoryData=Object(c["a"])({},e.categoryData),e._getCategoryDetail(A["c"]),e._getCategoryDetail(A["d"]),e._getCategoryDetail(A["b"])})},_getCategoryDetail:function(t){var e=this,n=this.categories[this.currentIndex].miniWallkey;P(n,t).then(function(n){e.categoryData[e.currentIndex].categoryDetail[t]=n,e.categoryData=Object(c["a"])({},e.categoryData)})},selectItem:function(t){this._getSubcategories(t)}}},B=M,J=(n("3a94"),Object(b["a"])(B,a,r,!1,null,"55bf354b",null));J.options.__file="Category.vue";e["default"]=J.exports},c93e:function(t,e,n){"use strict";function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){a(t,e,n[e])})}return t}n.d(e,"a",function(){return r})},e59d:function(t,e,n){},e7cc:function(t,e,n){"use strict";var a=n("85dd"),r=n.n(a);r.a},eecb:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return c});var a=n("b95e"),r={data:function(){return{showBackTop:!1}},methods:{backTop:function(){this.$refs.scroll.scrollTo(0,0,300)}}},c={data:function(){return{currentType:a["c"]}},methods:{tabClick:function(t){switch(t){case 0:this.currentType=a["c"];break;case 1:this.currentType=a["b"];break;case 2:this.currentType=a["d"];break}console.log(this.currentType)}}}},f216:function(t,e,n){"use strict";var a=n("b25e"),r=n.n(a);r.a},fa03:function(t,e,n){"use strict";var a=n("04f3"),r=n.n(a);r.a}}]);
//# sourceMappingURL=chunk-b0f97954.395f1baa.js.map